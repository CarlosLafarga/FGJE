<form [formGroup]="formPendientesCat" (ngSubmit)="onSubmitExpPendCat()" #datos="ngForm">

  <div widget class="card border-0 box-shadow">
    <div class="card-header transparent border-0 text-muted">
      <h5 class="mb-0">Expedientes pendientes en Centros de Atención Temprana</h5>
      <div class="widget-controls">

      </div>
    </div>
    <div class="card-body pt-0 widget-body">

      <div class="row">
        <div class="col-xl-6 col-lg-6 mb-6">
          <div class="form-group">
            <label for="catDiscriminanteAnt">
              <h6>Seleccione la agencia:</h6>
            </label>
            <select class="form-control" id="catDiscriminanteAnt" formControlName="catDiscriminanteAnt">
              <option selected value="" readonly disabled>-- Seleccione una agencia --</option>
              <option>
                Opcion 1
              </option>
            </select>
            <span class="text-danger" *ngIf="formPendientesCat.controls.catDiscriminanteAnt.invalid">
              *Seleccione una agencia.
            </span>
          </div>
        </div>
        <div class="col-xl-3 col-lg-6 mb-3">
          <div class="form-group">
            <label for="iclaveFuncionarioAsign">
              <h6>Seleccione el funcionario:</h6>
            </label>
            <select class="form-control" id="iclaveFuncionarioAsign" formControlName="iclaveFuncionarioAsign">
              <option selected value="" readonly disabled>-- Seleccione un funcionario --</option>
              <option>
                Opcion 1
              </option>
            </select>
            <span class="text-danger" *ngIf="formPendientesCat.controls.iclaveFuncionarioAsign.invalid">
              *Seleccione un funcionario.
            </span>
          </div>
        </div>
        <div class="col-xl-3 col-lg-6 mb-3">
          <div class="form-group">
            <label for="rolesFAsign">
              <h6>Seleccione el rol:</h6>
            </label>
            <select class="form-control" id="rolesFAsign" formControlName="rolesFAsign">
              <option selected value="" readonly disabled>-- Seleccione un rol --</option>
              <option>
                Opcion 1
              </option>
            </select>
            <span class="text-danger" *ngIf="formPendientesCat.controls.rolesFAsign.invalid">
              *Seleccione un rol.
            </span>
          </div>
        </div>
      </div>

      <ngx-datatable #table class="material" [headerHeight]="40" [limit]="10" [columnMode]="'force'" [footerHeight]="50"
        [rowHeight]="'auto'" [rows]="rows" [loadingIndicator]="loadingIndicator" [selected]="selected"
        [selectionType]="'checkbox'" (select)='onSelect($event)' [messages]="messages">
        <ngx-datatable-column [width]="30" [sortable]="false" [canAutoResize]="false" [draggable]="true"
          [resizeable]="false" [headerCheckboxable]="true" [checkboxable]="true">
        </ngx-datatable-column>
        <ngx-datatable-column name="cNumeroExpediente">
          <ng-template ngx-datatable-header-template>
            <span>Número de expediente</span>
          </ng-template>
          <ng-template ngx-datatable-cell-template let-value="value" let-row="row">
            <span>
              {{value}}
            </span>
          </ng-template>
        </ngx-datatable-column>
        <ngx-datatable-column name="cNumeroGeneralCaso">
          <ng-template ngx-datatable-header-template>
            <span>Número único de caso</span>
          </ng-template>
          <ng-template ngx-datatable-cell-template let-value="value" let-row="row">
            <span>
              {{value}}
            </span>
          </ng-template>
        </ngx-datatable-column>
      </ngx-datatable>

      <div class="col-12 bg-white py-1">
        <h5>Reasignar expedientes</h5>

        <br>

        <div class="col-xl-4 col-lg-6 mb-4">
          <div class="form-group">
            <label for="iclaveFuncionarioDestino">
              <h6>Seleccione el funcionario para reasignar:</h6>
            </label>
            <select class="form-control" id="iclaveFuncionarioDestino" formControlName="iclaveFuncionarioDestino">
              <option selected value="" readonly disabled>-- Seleccione un funcionario --</option>
              <option>
                Opcion 1
              </option>
            </select>
            <span class="text-danger" *ngIf="formPendientesCat.controls.rolesFAsign.invalid">
              *Seleccione el funcionario para reasingar los expedientes.
            </span>
          </div>
        </div>
      </div>

      <br><br><br>

      <div class="col-12 bg-white py-1">
        <!-- <div *ngIf="formPendientesCat.controls.justificacion.invalid" class="alert alert-danger alert-dismissible fade show" role="alert">
              <strong>Atencion!</strong> Por favor ingrese la justificación.
          </div> -->
        <div class="form-group">
          <label for="justificacion">justificación</label>
          <textarea maxlength="150" id="justificacion" class="form-control" formControlName="justificacion"
            placeholder="Máximo 150 caracteres" required></textarea>
        </div>
        <span class="text-danger" *ngIf="formPendientesCat.controls.justificacion.invalid">
          *Ingrese la justificación.
        </span>
      </div>

      <div class="col-12 bg-white text-center py-2">
        <button [disabled]="!formPendientesCat.valid" type="submit" class="btn btn-success mr-1">Aceptar</button>
        <button type="button" class="btn btn-danger" (click)="resetForm()">Cancelar</button>
      </div>

    </div>
  </div>

</form>